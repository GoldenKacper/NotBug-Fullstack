<div class="container">
  <mat-card>
    <mat-card-title>{{ isEditMode ? 'Edit Car' : 'Add New Car' }}</mat-card-title>
    <mat-card-content>
      <form [formGroup]="carForm" (ngSubmit)="onSubmit()">
        <div fxLayout="column" fxLayoutGap="16px">
          <mat-form-field appearance="outline">
            <mat-label>Make</mat-label>
            <input matInput formControlName="make" placeholder="e.g., Toyota" />
            <mat-error *ngIf="carForm.get('make')?.hasError('required')">
              Make is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Model</mat-label>
            <input matInput formControlName="model" placeholder="e.g., Corolla" />
            <mat-error *ngIf="carForm.get('model')?.hasError('required')">
              Model is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Year</mat-label>
            <input matInput type="number" formControlName="year" placeholder="e.g., 2020" />
            <mat-error *ngIf="carForm.get('year')?.hasError('required')">
              Year is required
            </mat-error>
            <mat-error *ngIf="carForm.get('year')?.hasError('min') || carForm.get('year')?.hasError('max')">
              Please enter a valid year between 1900 and {{ currentYear }}
            </mat-error>
          </mat-form-field>

          <div class="button-group" fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="16px">
            <button mat-raised-button color="primary" type="submit" [disabled]="carForm.invalid">
              {{ isEditMode ? 'Update' : 'Add' }} Car
            </button>
            <button mat-button type="button" (click)="router.navigate(['/cars'])">
              Cancel
            </button>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
